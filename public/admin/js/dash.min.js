async function userCount() { let a = await new Promise((a, b) => { $.get(`./users/count`, c => { c ? a(parseInt(c)) : b(new Error("Error communicating with server")) }) }); return a } async function itemCount() { let a = await new Promise((a, b) => { $.get(`./items/count`, c => { c ? a(parseInt(c)) : b(new Error("Error communicating with server")) }) }); return a } $(document).ready(function () { userCount().then(a => { $("#userCount").text(a) }).catch(a => console.log(a)), itemCount().then(a => { $("#itemCount").text(a) }).catch(a => console.log(a)) });