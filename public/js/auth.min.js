const loginUser = () => {
  let a = $("#loginUsername").val(), b = $("#loginPassword").val(); axios.post(`/api/users/login`, { username: a, password: b }).then(({ data: a }) => {
    1 > a.length ? (console.log("Login failed"), $("#alerts").html(`
        <div className="uk-alert-danger" uk-alert>
          <a className="uk-alert-close" uk-close></a>
          <p className="uk-text-bold">Incorrent username or password. Please try again</p>
        </div>
      `)) : window.location.href = "/"
  }).catch(a => console.error(a))
}, createUser = () => {
  axios.post("/api/users", { username: $("#username").val(), email: $("#email").val(), password: $("#password").val(), first_name: $("#first_name").val(), last_name: $("#last_name").val(), active: !0, permissions: 0, join_date: moment().unix() }).then(() => {
    $("#alerts").html(`
        <div className="uk-alert-success" role="alert">
          <a className="uk-alert-close" uk-close></a>
          <p className="uk-text-bold">Success!</p>Your account has been registered! Click <a href="../login">here</a> to login.
        </div>
      `), $("#username").val(""), $("#email").val(""), $("#password").val(""), $("#password2").val(""), $("#first_name").val(""), $("#last_name").val(""), window.location.replace("/login")
  }).catch(a => console.error(a))
}; $(document).on("click", a => {
"signUp" === a.target.id && (a.preventDefault(), $("#password").val() === $("#password2").val() ? createUser() : $("#alerts").html(`
        <div className="uk-alert-danger" uk-alert>
          <a className="uk-alert-close" uk-close></a>
          <p className="uk-text-bold">Fail! You suck! The passwords you entered do not match. Please try again.</p>
        </div>
      `)), "login" === a.target.id && loginUser(), "signupPage" === a.target.id && window.location.replace("/register"), "loginPage" === a.target.id && window.location.replace("/login")
});